@{
    List<CommonService.Model.OA.O_Form_AuditFlow> FAlists = ViewBag.FAlists;
}
<ul class="timeline">
    <li>
        <h4><span style="color: #4b8df8">申请人：@ViewBag.O_Form_applyPerson_name</span></h4>
    </li>

    @foreach (var item in FAlists)
    {

        if (item.O_Form_AuditFlow_auditStatus == 529)
        {
            if (item.Equals(FAlists[FAlists.Count() - 1]))
            {
                <li class="timeline-grey timeline-noline">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>

                    <div class="timeline-body">
                        <h2>未开始</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                            [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                            @if (ViewBag.LoginUser == item.O_Form_AuditPerson_auditPerson)
                            {
                                <a href="/oa/freeformaudit/FreeNextFlow?audit_Code=@item.O_Form_AuditFlow_code" class="btn yellow" data-target="#baseLargeModal" data-toggle="modal">
                                    进入下一流程<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=1" class="btn blue" data-target="#baseLargeModal" data-toggle="modal">
                                    通过<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=2" class="btn red" data-target="#baseLargeModal" data-toggle="modal">
                                    驳回<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                            }

                        </div>
                    </div>

                </li>
            }
            else
            {
                <li class="timeline-grey">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>

                    <div class="timeline-body">
                        <h2>未开始</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                            @if (ViewBag.LoginUser == item.O_Form_AuditPerson_auditPerson)
                            {
                                <a href="/oa/freeformaudit/FreeNextFlow?audit_Code=@item.O_Form_AuditFlow_code" class="btn yellow" data-target="#baseLargeModal" data-toggle="modal">
                                    进入下一流程<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=1" class="btn blue" data-target="#baseLargeModal" data-toggle="modal">
                                    通过<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=2" class="btn red" data-target="#baseLargeModal" data-toggle="modal">
                                    驳回<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                            }

                        </div>
                    </div>

                </li>
            }

        }
        else if (item.O_Form_AuditFlow_auditStatus == 530)
        {
            if (item.Equals(FAlists[FAlists.Count() - 1]))
            {
                <li class="timeline-yellow timeline-noline">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>
                    <div class="timeline-body">
                        <h2>已开始</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                            @if (ViewBag.LoginUser == item.O_Form_AuditPerson_auditPerson)
                            {
                                <a href="/oa/freeformaudit/FreeNextFlow?audit_Code=@item.O_Form_AuditFlow_code" class="btn yellow" data-target="#baseLargeModal" data-toggle="modal">
                                    进入下一流程<i class=" m-icon-swapright m-icon-white">
                                    </i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code & type = 1" class="btn blue" data-target="#baseLargeModal" data-toggle="modal">
                                    通过<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=2" class="btn red" data-target="#baseLargeModal" data-toggle="modal">
                                    驳回<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                            }

                        </div>
                    </div>
                </li>

            }
            else
            {
                <li class="timeline-yellow">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>
                    <div class="timeline-body">
                        <h2>已开始</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                            @if (ViewBag.LoginUser == item.O_Form_AuditPerson_auditPerson)
                            {
                                <a href="/oa/freeformaudit/FreeNextFlow?audit_Code=@item.O_Form_AuditFlow_code" class="btn yellow" data-target="#baseLargeModal" data-toggle="modal">
                                    进入下一流程<i class=" m-icon-swapright m-icon-white">
                                    </i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code & type = 1" class="btn blue" data-target="#baseLargeModal" data-toggle="modal">
                                    通过<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                                <a href="/oa/freeformaudit/EndFlow?audit_Code=@item.O_Form_AuditFlow_code&type=2" class="btn red" data-target="#baseLargeModal" data-toggle="modal">
                                    驳回<i class="m-icon-swapright m-icon-white"></i>
                                </a>
                            }

                        </div>
                    </div>
                </li>

            }
        }
        else if (item.O_Form_AuditFlow_auditStatus == 531)
        {
            if (item.Equals(FAlists[FAlists.Count() - 1]))
            {
                <li class="timeline-red timeline-noline">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>
                    <div class="timeline-body">
                        <h2>未通过</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                        </div>
                    </div>
                </li>
            }
            else
            {
                <li class="timeline-red">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class="fa fa-times"></i>
                    </div>
                    <div class="timeline-body">
                        <h2>未通过</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                        </div>
                    </div>
                </li>
            }

        }
        else
        {
            if (item.Equals(FAlists[FAlists.Count() - 1]))
            {
                <li class="timeline-blue timeline-noline">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <i class=" glyphicon glyphicon-ok"></i>
                    <div class="timeline-body">
                        <h2>已通过</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                        </div>
                    </div>
                </li>
            }
            else
            {
                <li class="timeline-blue">
                    <div class="timeline-time">
                        <span class="date">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortDateString())
                        </span>
                        <span class="time">
                            @(item.O_Form_AuditFlow_auditTime == null ? "" : Convert.ToDateTime(item.O_Form_AuditFlow_auditTime).ToShortTimeString())
                        </span>
                    </div>
                    <div class="timeline-icon">
                        <i class=" glyphicon glyphicon-ok"></i>
                    </div>
                    <div class="timeline-body">
                        <h2>已通过</h2>
                        <div class="timeline-content">
                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover" style="color:#333;">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                审批人
                                            </th>
                                            <th scope="col">
                                                审批状态
                                            </th>
                                            <th scope="col">
                                                审批内容
                                            </th>
                                            <th scope="col">
                                                审批时间
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                [@(item.O_Form_AuditPerson_auditPersonjob)] @item.O_Form_AuditPerson_auditPersonname
                                            </td>
                                            <td>@item.O_Form_AuditPerson_statusname</td>
                                            <td>@item.O_Form_AuditPerson_content</td>
                                            <td>@item.O_Form_AuditPerson_auditTime</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="timeline-footer">
                        </div>
                    </div>
                </li>
            }
        }
    }
</ul>
